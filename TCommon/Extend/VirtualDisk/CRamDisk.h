/*

												  ... .^^:.
										  .   ..~75GPPBGGGY!^.
											.^?5PPY?!7Y5PBBGPJ^
										   :JPBG?~:.^5YJ?JGGGP5!......
										  .YB#G7?7~:~Y??7~7GBGGPJ:...
										   J#B~:^^^^^:^^^:.~G#BBG~...
										   ~#?...:~~~^:::^^^5#B#P^..
											!7.:^?!~!7~^^~~~7?!J!...
											 ^~:^:::::^^^~~7!7!J:
										   .  :^::::::^~!?P#&&&P.
												~????YPB#&&&&&&#BGJ:
											   !&&P5B&&@@&&&&&#&&&@&5~  ..
	.^~?YJ??7^:..                     ..~YPP5!^B&&@&@@&&&@@@&#&&&&&J.:75BB5J!77:.      .
   .Y?~~^~!PPYJ?Y?~~^..:.      ..:^!JPB#&&&G^!&@&&&@&&&&&&&@##&&&&Y.!B##&#&&&#&#GY77J5PPPJ7^.......
   :::^^~~~7~:^~~!7J5GBBBGP!..^P#&&&&&&&&&#:.#@&&&&@&&&&&&&B#&&&&&:~#&#&&&&&&&&&&&&########BG5555Y7:.
 ..:~~~!!7!7?7??7!!!!75#&&###&&&&&&&&&&&&&#:.#@&@#&@&&&&&&B#&&&&@&:?&&&&&&&&&&&&&&@&#####BBBBBBBBBBP?:. .
 :^~!~~~!7!!?7!77777??J5#&&&@@&&&&&&&&&&&&&!.5@&@#B@&&&@@B#@&&&&@&:^&&&&&&&&&&&&&&&&&&&&&&&##BBBBBBBBP7. .
.~~~!~~~~!!~!J~~!777?JJYG&@@@@@@@&&&&&&&&&@5 ~@&@&P&@@@&G#@&@@@&&@J 5@&&@&&&&&&&&&&&&&&&&&&&&&####BBBBBY~..    .
.~7!!!!!!!!!!J7!777??JY5P#@@@@@@@@@@@@@@@@@&..#@&@&B#&&G#@@@&&&&&@#:^B@&@@&@@@@@&&&&&@@@@@@@@@@&&&&##BBBG5!.  ..
.!77777777777JY7??JJJ555PGB#&&@@@@@@@@@&&&#&J.J@@@@@&BP#@@@@&&&@@@@P:~#@@@@@@@@@@&&&@#7??777?5PGPG&&&#BBBBBY^.  .
.:777?????????PJJJJJJYPPP7...:^~~~~~^^::....7^:&&&&&&B~B&&&@@@@@@@&@Y^~#@@@@@@@@@@@&@@!..:::::^^^^7P&&#BBGGBGY^
. ~???JJJJJJJJG5JYYYYYPBY.                   :.5&&&&&&&&@&&&@@@@@@@@&7^!#@@@@@@@@@@@@@#....:::::::::!B&##BGGGBGJ.  .
. .~?J5YJYYYYY5BYY5Y55PY:..    ...           ..:&@@@&&@@@&&@@@@@@@@&&#7^7#@@@@@@@@@@&&@7   ....::::::^5&##BGGGGBY:.        ..
   .:!YYYYYYYYYBP5555?~....                   ..Y&@&@@@@@@@@@@@@@@@&@&#~^7&@@@@@@@@@@&@P.  .   ...:::::Y&#BGP5YYJ!:.   .   ..
  ....:^!?JJYYYP5?7!^.....                    ...!&&&@@@@@@@@@@@@@@@@@&#!^?&@@@@@@@@@@@#:. ........:::::7P5YJ?7!!~^...  .....
  ........:::^^^^:.......                    .....!&@@@&@@@@@@@@@@@@@@&&#~~Y@@@@@@@@@@@&!.............:::~?J777!~~^:.. ......
	.....................             . ... ... ...J&@@@@@@@@@@@@@@@@@@&@G:~5@@@@@@@@@@@?................^!?7!!!~~^::.. . ...
	 ..................   ..                     ...P@@@@&@@@@@@@@@@@@@&&@5:^B@@@@@@@@@@?...........  ...:^~!!!!!!~~^::......
			 ..                                  . .~PG#&@@@@@@@@@@@@@@@&&@?^~&@@@@@@@&@G.     .....  .....:^~!!!!!!~^:......
			...                .......             ..:JYJ&&@@@@@@@@@@@@@@@@B::5@@@@@@@@@&:     ..............:~!7!~~^^:......
							   .......              . .^!5P#&&&&@@@@@@@@@@@&YJG@@@@@@@@@#.    ............ ..:^~~~~^:..:.....
...                     ..............                 .~5Y5BPPGB#&&&&&&&&&&&55@&@@&&&&5.  .....................::::.........
::....                 ...............           .  .^!JYYYPGYYY555PPPPGGGGGPYJBGBBGGGP:    .............................. ..
::::....               ......................    ..~?JJJJJYY5YY555555555555P5555555PPPJ:. ................................ ..
:::::::.....           ......................     7????JJJYYYYYY55YYY5Y5555555555Y55YY5: ....................................
::::::::::...           .....................    .JJJJJJJJYYYYYYYYYYYYYYYYYYYYYYYYYYYY5: . .................. ...............
:::::::::::....    ..........................   .!YJJJJJJJJJJJJJJJJJJYYYYYYYYYYYYYYYYYY. . ..................................
::::::::::::::...   .......................   .:!J??JJJJJJJJJJJJJJJJJYYYYYYYYYYYYYYYY5Y   ...................................
:::::::::::::::::...  .......................:7?JJJJJJYYYYYJJJJYYYYYYYYYYYYYYYYYYYYYY5?   ...................................
:::::::::::::::::::......... ............. .~????JJJY55555YJYYYYYYYYYYYYJJJJJJJJJJYYYP~ .....................................
::::::::::::::::::::::.... ..     ....... .!??77???JJY5PPPPP55YYYYYYYYJJJJJ?JJJJJJJYY5: .....................................
::::::::::::::::::::::::..... ........... ~?7777???JJJJY55PG##G5YYJYJJJJJ????????JJYYY  .....................................
:::::::::::::::::::::::::::.... ........  ^77777??JJJYYY55PPB##BJ???J????????????JJY57  .....................................
:::::::::::::::::::::::::::::...    ..  .^77777?JJJYYY555PPGGB#5!?????????????????JJ5~  .....................................
:::::::::::::::::::::::::::::::.... ....~7777???JJYYYY555PPGGG!.:7????J??????????JJYY: ......................................
::::::::::::::::::::::::::::::::::......77777???JJYYY555PPGP7.   ~YJJYYJ????????JJJYJ .......................................
:::::::::::::::::::::::::::::::::::::..~?7777??JJJYYY555P57.     .JYYYYJJ??????JJJJ5! .......................................
::::::::::::::::::::::::::::::::::::::^77777???JJYYYYY5Y7:  . . . ~JJJJJ???????JJJJY:  ......................................
:::::::::::::::::::::::::::::::::::::^7777????JJ555YYJ~.   .  . . :?JJJ???????JJJJYJ  .......................................
...:::::::::::::::::::::::::::::::::^!777???JJYY5P5YJ.        ... .JJJ???????JJJJY5~   ......................................
   ..:::::::::::::::::::::::::::::::^7????JJJJY55PP57 ..      ..  .JJJ???????JJJJYY.   ......................................
..   ...::::::::::::::::::::::::::::7?JJJYYYYY55PPY?:...       .  :JJJ?????JJJJJY57 .........................................
......  ..::::::::::::::::::::::::::?YY555PPPPGBBB7...   .        7???????JJJYYYY5^ .........................................
......    ..:::::::::::::::::::::::::?555PPPPGGGGGPY:...          !7???JJJJJYYYYY57 .........................................
..............:::::::::::::::::::::::^?55PPPPPPPPPPPY^::............!J?JJYYYYYYY55Y!.........................................
::^^^^^^^^^^:^^^^^^^^^^^^^^^^^^^^^^^^^^755PPPPPPPPPPP5~::::::::::::.!JJJYYYY555555PY~::::::::::::::::::::::::::::::::::::::::
:::^^^:::^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^:!YP5PPPPPPPPPP5^::::::::::::^?YYJYYY55555PPJ57:::::::::::::::::::::::::::::::::::::::
::::::::::^^^^^^^^^^^^^^^^^^^^^^^^^^^^^::^?PPPPPPPPPPPPY^::::::::::::^7?JYY55555555J#G.::::::::::::::::::::::::::::::::::::::
:::^^^^^:^^^^^^^^^^^^::::^^^:::^^^^^^^:::::!5PPPPPPPPPPPJ:::::::::::::::~7?J55P555YG&&~::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::.^JPPPPPPPP5PP!:::::::::::::::::^GGPPPGB&&&5.:::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::75PPPPPPPPPP~.::::::::::::::.:!?P##&&&&&#~:::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::.:75PPPPPPPPG!.^!:::::::::..::..5&&&&&&&&5.::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::.~5PPPPPPPPPJ#P.:::::::::::::.Y&&&&&&&&#~.:::::::::::::::::::::::::::::::::::*/

#ifndef _CRAMDISK_H_
#define _CRAMDISK_H_

#include <QObject>
/*
ImDisk工具下载路径:
http://www.ltr-data.se/opencode.html
http://www.ltr-data.se/opencode.html/#ImDisk
源码路径:
https://github.com/LTRData/ImDisk/tree/master
注意: 当软件需要调用此类生成内存硬盘时, 需要以管理员启动程序
*/
class CRamDisk : public QObject
{
	Q_OBJECT

public:
	static CRamDisk * GetKernel();
	static void DestroyKernel();

	//******Taoyuyu***********************   
	// 日期: 2023/07/31
	// 功能: 设置imdisk.exe程序的路径
	//		当以命令行的形式创建内存硬盘时, 需要设置此成员
	// 返回: void
	// 参数: QString strImDiskExePath: imdisk.exe程序路径
	//************************************
	void setImDiskExePath(QString strImDiskExePath);

	//******Taoyuyu***********************   
	// 日期: 2023/07/31
	// 功能: 创建内存硬盘
	// 返回: bool
	// 参数: int iSizeInMB: 需要创建的内存硬盘的大小, 单位MB
	// 参数: QString & strLetterName: 卷标号, 形如 "C:"、"F:"、"Z:"等
	//		使用API创建内存硬盘时, 当为空时, 将默认创建一个新的盘符
	//		当以命令行的形式创建内存硬盘时, 返回失败
	//************************************
	bool create(int iSizeInMB, QString &strLetterName = QString());

private:
	CRamDisk(QObject *parent = nullptr);
	~CRamDisk();

private:
	static CRamDisk*	m_pInstance;

	//QString			strLetterName;		//卷标号
	//int					iSizeInMB;			//大小MB //内存中不宜创建以GB为单位的空间
	QString				m_strImDiskExePath;	//可执行文件路径
	
	
};
#endif //_CRAMDISK_H_